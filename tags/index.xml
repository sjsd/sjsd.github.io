<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>SJSD - blogg og notater om mine DIY</title>
    <link>http://sjsd.github.io/tags/</link>
    <description>Recent content on SJSD - blogg og notater om mine DIY</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>no-nb</language>
    <lastBuildDate>Wed, 09 Dec 2015 19:49:01 +0100</lastBuildDate>
    <atom:link href="http://sjsd.github.io/tags/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Serial input (video)</title>
      <link>http://sjsd.github.io/post/serial-input-video/</link>
      <pubDate>Wed, 09 Dec 2015 19:49:01 +0100</pubDate>
      
      <guid>http://sjsd.github.io/post/serial-input-video/</guid>
      <description>&lt;iframe width=&#34;700&#34; height=&#34;424&#34; src=&#34;https://www.youtube.com/embed/7Se3AXBjWMM&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>Serial input (video)</title>
      <link>http://sjsd.github.io/post/serial-input-video/</link>
      <pubDate>Wed, 09 Dec 2015 19:49:01 +0100</pubDate>
      
      <guid>http://sjsd.github.io/post/serial-input-video/</guid>
      <description>&lt;iframe width=&#34;700&#34; height=&#34;424&#34; src=&#34;https://www.youtube.com/embed/7Se3AXBjWMM&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>Serial input (video)</title>
      <link>http://sjsd.github.io/post/serial-input-video/</link>
      <pubDate>Wed, 09 Dec 2015 19:49:01 +0100</pubDate>
      
      <guid>http://sjsd.github.io/post/serial-input-video/</guid>
      <description>&lt;iframe width=&#34;700&#34; height=&#34;424&#34; src=&#34;https://www.youtube.com/embed/7Se3AXBjWMM&#34; frameborder=&#34;0&#34; allowfullscreen&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>Bluetooth i en gammel FM-radio</title>
      <link>http://sjsd.github.io/post/bluetooth-i-en-gammel-fm-radio/</link>
      <pubDate>Sun, 04 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/bluetooth-i-en-gammel-fm-radio/</guid>
      <description>

&lt;p&gt;Jeg har en «gammel» radio som har vært en god følgesvenn av familien i noen år. Vi har egentlig aldri behandlet denne radioen noe spesielt godt. Den har alltid stått ute i vær og vind. Noe den bærer preg av. Men til tross for dårlig behandling så virker den som den skal.&lt;/p&gt;

&lt;p&gt;Dette innlegget er litt langt. Jeg har i detalj gått igjennom mine funn og forsøkt å dokumentere det med bilder som jeg har tatt underveis.&lt;/p&gt;

&lt;h2 id=&#34;tl-dr:1273d6887e1ec6d519742647e160a85b&#34;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;Ved å koble til en bluetooth-mottaker i en gammel radio så har jeg «byttet ut» den gamle FM-delene med noe mer moderne. Bakgrunnen er at jeg streamer 99% av all musikk og radio via mobiltelefonen. FM-nettet slukkes snart her i Norge og da ville radioen likevel være ubrukelig. Jeg har valgt å gjøre det på den vanskelige måten fremfor å koble en ferdig dongle direkte på inngangen. Større utfordring, mer morro.&lt;/p&gt;

&lt;p&gt;Det skulle vise seg å bli en større utfordring enn først antatt.&lt;/p&gt;

&lt;h2 id=&#34;denver-tr-43c:1273d6887e1ec6d519742647e160a85b&#34;&gt;Denver TR-43C&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135732.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;En Denver TR-43C i orange farge. Radioen er en typisk nobrand og selges under ulike merkenavn. Det jeg har klart å finne ut av via internett er at innmaten er lik uavhengig av merkenavnet den selges under.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135631.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Naturkreftene har forsøkt å ta tak i den. Jordslag og noe seigt belegg utenpå har dempet den ellers så friske orange fargen.&lt;/p&gt;

&lt;h2 id=&#34;fm-vs-dab-vs-streaming:1273d6887e1ec6d519742647e160a85b&#34;&gt;FM vs DAB vs streaming&lt;/h2&gt;

&lt;p&gt;Jeg skal ikke kaste meg i vei i diskusjonen om FM vs DAB. Men når FM-nettet slukkes om 2 år så vil vår gode og gamle FM-radio være mer eller mindre unyttig. Og siden vi streamer det meste av musikk via mobiltelefonen så kunne det vært kjekt å gjøre den gamle radioen om slik at den kan ta imot musikk via bluetooth.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135640.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Denne antenna blir overflødig om et par år. Derfor velger jeg å bygge om radioen til å møte vårt behov og vår foretrukne måte å lytte til både musikk og radio på.&lt;/p&gt;

&lt;h2 id=&#34;valg-av-bluetooth:1273d6887e1ec6d519742647e160a85b&#34;&gt;Valg av bluetooth&lt;/h2&gt;

&lt;p&gt;Ja, jeg kunne selvsagt ha kjøpt en bluetooth-adapter til 50,- inkl. frakt på eBay og koblet den med en standard min jack-kablel på inngangen til radioen. Men hva er utfordringen i det?&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135655.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Som bildet over viser så har radioen en egen lydinngang og en utgang for hodetelefoner. Via lydinngangen kunne jeg valgt å koble telefonen direkte eller brukt en billig bluetooth-dongle. Men som sagt, hva er utfordringen med det?&lt;/p&gt;

&lt;h2 id=&#34;bluetooth-ln-bt02:1273d6887e1ec6d519742647e160a85b&#34;&gt;Bluetooth LN-BT02&lt;/h2&gt;

&lt;p&gt;Så jeg handlet meg en bluetooth-sak med det kryptiske navnet LN-BT02. Slik ser den ut:&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/sku229677-61.jpg?w=700&amp;amp;h=700&#34; alt=&#34;LN-BT02&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Bildet over viser den medfølgende mikrofonen. I tillegg fulgte det med ulike kabler for strøm og lyd (inn og ut).&lt;/p&gt;

&lt;h2 id=&#34;demontering:1273d6887e1ec6d519742647e160a85b&#34;&gt;Demontering&lt;/h2&gt;

&lt;p&gt;Radioen er enkel å skru fra hverandre. Tre skruer er tilgjengelig på baksiden. Den fjerde skruen en dekket av et deksel som dekker til strømtrafoen. Så dette dekselet må også skrues av.&lt;/p&gt;

&lt;p&gt;Det er ikke nødvendig å ta av bryter eller knotter på forsiden siden det er to kretskort og det som disse er koblet til er skrudd fast på dekselet foran.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_141126.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;strøm-til-bluetooth-ln-bt02:1273d6887e1ec6d519742647e160a85b&#34;&gt;Strøm til bluetooth (LN-BT02)&lt;/h2&gt;

&lt;p&gt;Selve radioen bruker enten vanlig strøm (230V) eller 6 batterier av type AA. Selve radioen bruker 9 – 12V (9V på batteridrift eller 12V ut ifra trafoen). Ved å bruke et multimeter så målte jeg 12V ferdig likerettet ut ifra trafoen (dvs. likeretteren sitter på kretskortet).&lt;/p&gt;

&lt;p&gt;LN-BT02 driftes fra 7V til 30V, så dette passet perfekt. Det er bare å lodde på strømledningen som følger med rett på kretskortet og LN-BT02 får strøm.&lt;/p&gt;

&lt;p&gt;NB! Det er kanskje ikke en god løsning å ha strøm rett på bluetooth-enheten hele tiden. Men enn så lenge så duger det slik at jeg kan komme meg videre til neste steg.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154326.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Den røde og sorte som går rett opp i bildet over er strømmen til blåtannenheten.&lt;/p&gt;

&lt;h2 id=&#34;koble-til-lyd:1273d6887e1ec6d519742647e160a85b&#34;&gt;Koble til lyd&lt;/h2&gt;

&lt;p&gt;Blåtannenheten gir fra seg (ved fullt volum) standard linjesignal. Dvs. at den ikke kan koble direkte på en høyttaler, men signalet må via en forsterke. Dette finnes allerede i radioen.&lt;/p&gt;

&lt;p&gt;Jeg bruker multimeteret til å finne ut hvilket kontaktpunkter på kretskortet ved AUX-inngangen som er jord, høyre og venstre. Dermed lodder jeg på lydkabelen for blåtannenheten på disse punktene.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154341.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;På undersiden av AUX-inngangen har jeg loddet på jord (sort) og høyre og venstre (hvit og rød) til kontaktpunktene til inngangen.&lt;/p&gt;

&lt;h3 id=&#34;første-problem-fm-og-blåtann-samtidig:1273d6887e1ec6d519742647e160a85b&#34;&gt;Første problem – FM og blåtann samtidig&lt;/h3&gt;

&lt;p&gt;Problemet er at radioen er laget på slik måte at hvis man ikke har en plugg inn i AUX-inngangen så aktiveres FM-radioen. Så nå vil radioen spille av FM-radio + lyd fra blåtann samtidig. Det er ikke helt heldig. Det er altså en bryter som aktiveres når man stikker en plugg inn i AUX-inngangen (som er en 3,5mm mini jack).&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154402.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Jeg søker på internett etter denne type bryter / kontakt men finner kun noen dårlige skisser som ikke sier meg så mye. Så ved å bruke multimeteret mitt finner jeg til slutt to kontaktpunkter som endrer status avhengig av om det er en plugg inne i kontakten eller ei. Men jeg finner ingen enkel måte å deaktivere de på uten at det er en plugg satt inn.&lt;/p&gt;

&lt;h3 id=&#34;andre-problem-lydproblemer:1273d6887e1ec6d519742647e160a85b&#34;&gt;Andre problem – lydproblemer&lt;/h3&gt;

&lt;p&gt;Jeg lodder av kontakten med bryteren fra kretskortet. Når jeg løfter den av så faller en rekke deler ut av den. Fra bryteren altså. Dohh…&lt;/p&gt;

&lt;p&gt;Jeg lodder så på igjen lydkabelen på de samme kontaktpunktene som tidligere. FM-radioen er nå deaktivert og jeg får lyd via blåtann. Men lyden er gått fra å være normal til å være svært svak. Dohh…&lt;/p&gt;

&lt;p&gt;Jeg prøver å koble sammen kontaktpunktene for radio og får aktivert radioen igjen. Ikke noe endring av lydstyrken annet enn at FM-radioen nå spiller sammen med lyden fra blåtann. Så det er ikke løsningen, så jeg deaktiverer FM-radioen på nytt.&lt;/p&gt;

&lt;p&gt;På dette stadiet blir prosjektet liggende i mange dager. Siden jeg har en helt lik radio til så åpner jeg denne og kobler på lydkabelen. Full lydstyrke her. Så til tross for at jeg lodder på kabelen på samme punkter så er det en betydelig forskjell på før og etter at jeg tok av mini jack -kontakten. Hva som er årsaken vet jeg ikke. Man skulle tro det er en «mystisk» kobling inne i mini jack -kontakten som jeg overser. Et eller annet har jeg klart å ødelegge på veien.&lt;/p&gt;

&lt;p&gt;Utallige forsøk på å finne andre punkter å lodde lydkabelen inn på. Ingen av dem gir noe bedre resultat. Forsterkeren i radioen er og forblir død/svak.&lt;/p&gt;

&lt;h2 id=&#34;løsning-frankenstein:1273d6887e1ec6d519742647e160a85b&#34;&gt;Løsning – Frankenstein&lt;/h2&gt;

&lt;p&gt;Som nevn, jeg har en maken radio. En sort! Så med en rekke erfaringer klokere  så blir det den sorte broren til den oransje radioen som får gjennomgå. Bluetooth-enheten blir plassert inn her istedet.&lt;/p&gt;

&lt;p&gt;Her er noen bilder av den endelige løsningen:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125724.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125730.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125738.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Ikke så pen løsning, jeg skulle kanskje ha kostet på meg egne knapper eller i det minste en Dremel fremfor et grovt bor.&lt;/p&gt;

&lt;p&gt;LN-BT02 har egne knapper for å hoppe en sang fremover, bakover og pause/play. Ved å holde nede venstre eller høyre knapp kan man også justere volumet.&lt;/p&gt;

&lt;h2 id=&#34;oppsummering:1273d6887e1ec6d519742647e160a85b&#34;&gt;Oppsummering&lt;/h2&gt;

&lt;p&gt;Til tross for mye knoting og at prosjektet ble liggende urørt i en lang periode så kom jeg i havn. Jeg har lært litt og fått frisket opp gamle kunnskaper om elektronikk. Det irriterer meg fortsatt at jeg ikke fikk det til på første forsøk.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125752.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bluetooth i en gammel FM-radio</title>
      <link>http://sjsd.github.io/post/bluetooth-i-en-gammel-fm-radio/</link>
      <pubDate>Sun, 04 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/bluetooth-i-en-gammel-fm-radio/</guid>
      <description>

&lt;p&gt;Jeg har en «gammel» radio som har vært en god følgesvenn av familien i noen år. Vi har egentlig aldri behandlet denne radioen noe spesielt godt. Den har alltid stått ute i vær og vind. Noe den bærer preg av. Men til tross for dårlig behandling så virker den som den skal.&lt;/p&gt;

&lt;p&gt;Dette innlegget er litt langt. Jeg har i detalj gått igjennom mine funn og forsøkt å dokumentere det med bilder som jeg har tatt underveis.&lt;/p&gt;

&lt;h2 id=&#34;tl-dr:1273d6887e1ec6d519742647e160a85b&#34;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;Ved å koble til en bluetooth-mottaker i en gammel radio så har jeg «byttet ut» den gamle FM-delene med noe mer moderne. Bakgrunnen er at jeg streamer 99% av all musikk og radio via mobiltelefonen. FM-nettet slukkes snart her i Norge og da ville radioen likevel være ubrukelig. Jeg har valgt å gjøre det på den vanskelige måten fremfor å koble en ferdig dongle direkte på inngangen. Større utfordring, mer morro.&lt;/p&gt;

&lt;p&gt;Det skulle vise seg å bli en større utfordring enn først antatt.&lt;/p&gt;

&lt;h2 id=&#34;denver-tr-43c:1273d6887e1ec6d519742647e160a85b&#34;&gt;Denver TR-43C&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135732.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;En Denver TR-43C i orange farge. Radioen er en typisk nobrand og selges under ulike merkenavn. Det jeg har klart å finne ut av via internett er at innmaten er lik uavhengig av merkenavnet den selges under.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135631.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Naturkreftene har forsøkt å ta tak i den. Jordslag og noe seigt belegg utenpå har dempet den ellers så friske orange fargen.&lt;/p&gt;

&lt;h2 id=&#34;fm-vs-dab-vs-streaming:1273d6887e1ec6d519742647e160a85b&#34;&gt;FM vs DAB vs streaming&lt;/h2&gt;

&lt;p&gt;Jeg skal ikke kaste meg i vei i diskusjonen om FM vs DAB. Men når FM-nettet slukkes om 2 år så vil vår gode og gamle FM-radio være mer eller mindre unyttig. Og siden vi streamer det meste av musikk via mobiltelefonen så kunne det vært kjekt å gjøre den gamle radioen om slik at den kan ta imot musikk via bluetooth.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135640.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Denne antenna blir overflødig om et par år. Derfor velger jeg å bygge om radioen til å møte vårt behov og vår foretrukne måte å lytte til både musikk og radio på.&lt;/p&gt;

&lt;h2 id=&#34;valg-av-bluetooth:1273d6887e1ec6d519742647e160a85b&#34;&gt;Valg av bluetooth&lt;/h2&gt;

&lt;p&gt;Ja, jeg kunne selvsagt ha kjøpt en bluetooth-adapter til 50,- inkl. frakt på eBay og koblet den med en standard min jack-kablel på inngangen til radioen. Men hva er utfordringen i det?&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135655.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Som bildet over viser så har radioen en egen lydinngang og en utgang for hodetelefoner. Via lydinngangen kunne jeg valgt å koble telefonen direkte eller brukt en billig bluetooth-dongle. Men som sagt, hva er utfordringen med det?&lt;/p&gt;

&lt;h2 id=&#34;bluetooth-ln-bt02:1273d6887e1ec6d519742647e160a85b&#34;&gt;Bluetooth LN-BT02&lt;/h2&gt;

&lt;p&gt;Så jeg handlet meg en bluetooth-sak med det kryptiske navnet LN-BT02. Slik ser den ut:&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/sku229677-61.jpg?w=700&amp;amp;h=700&#34; alt=&#34;LN-BT02&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Bildet over viser den medfølgende mikrofonen. I tillegg fulgte det med ulike kabler for strøm og lyd (inn og ut).&lt;/p&gt;

&lt;h2 id=&#34;demontering:1273d6887e1ec6d519742647e160a85b&#34;&gt;Demontering&lt;/h2&gt;

&lt;p&gt;Radioen er enkel å skru fra hverandre. Tre skruer er tilgjengelig på baksiden. Den fjerde skruen en dekket av et deksel som dekker til strømtrafoen. Så dette dekselet må også skrues av.&lt;/p&gt;

&lt;p&gt;Det er ikke nødvendig å ta av bryter eller knotter på forsiden siden det er to kretskort og det som disse er koblet til er skrudd fast på dekselet foran.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_141126.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;strøm-til-bluetooth-ln-bt02:1273d6887e1ec6d519742647e160a85b&#34;&gt;Strøm til bluetooth (LN-BT02)&lt;/h2&gt;

&lt;p&gt;Selve radioen bruker enten vanlig strøm (230V) eller 6 batterier av type AA. Selve radioen bruker 9 – 12V (9V på batteridrift eller 12V ut ifra trafoen). Ved å bruke et multimeter så målte jeg 12V ferdig likerettet ut ifra trafoen (dvs. likeretteren sitter på kretskortet).&lt;/p&gt;

&lt;p&gt;LN-BT02 driftes fra 7V til 30V, så dette passet perfekt. Det er bare å lodde på strømledningen som følger med rett på kretskortet og LN-BT02 får strøm.&lt;/p&gt;

&lt;p&gt;NB! Det er kanskje ikke en god løsning å ha strøm rett på bluetooth-enheten hele tiden. Men enn så lenge så duger det slik at jeg kan komme meg videre til neste steg.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154326.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Den røde og sorte som går rett opp i bildet over er strømmen til blåtannenheten.&lt;/p&gt;

&lt;h2 id=&#34;koble-til-lyd:1273d6887e1ec6d519742647e160a85b&#34;&gt;Koble til lyd&lt;/h2&gt;

&lt;p&gt;Blåtannenheten gir fra seg (ved fullt volum) standard linjesignal. Dvs. at den ikke kan koble direkte på en høyttaler, men signalet må via en forsterke. Dette finnes allerede i radioen.&lt;/p&gt;

&lt;p&gt;Jeg bruker multimeteret til å finne ut hvilket kontaktpunkter på kretskortet ved AUX-inngangen som er jord, høyre og venstre. Dermed lodder jeg på lydkabelen for blåtannenheten på disse punktene.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154341.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;På undersiden av AUX-inngangen har jeg loddet på jord (sort) og høyre og venstre (hvit og rød) til kontaktpunktene til inngangen.&lt;/p&gt;

&lt;h3 id=&#34;første-problem-fm-og-blåtann-samtidig:1273d6887e1ec6d519742647e160a85b&#34;&gt;Første problem – FM og blåtann samtidig&lt;/h3&gt;

&lt;p&gt;Problemet er at radioen er laget på slik måte at hvis man ikke har en plugg inn i AUX-inngangen så aktiveres FM-radioen. Så nå vil radioen spille av FM-radio + lyd fra blåtann samtidig. Det er ikke helt heldig. Det er altså en bryter som aktiveres når man stikker en plugg inn i AUX-inngangen (som er en 3,5mm mini jack).&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154402.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Jeg søker på internett etter denne type bryter / kontakt men finner kun noen dårlige skisser som ikke sier meg så mye. Så ved å bruke multimeteret mitt finner jeg til slutt to kontaktpunkter som endrer status avhengig av om det er en plugg inne i kontakten eller ei. Men jeg finner ingen enkel måte å deaktivere de på uten at det er en plugg satt inn.&lt;/p&gt;

&lt;h3 id=&#34;andre-problem-lydproblemer:1273d6887e1ec6d519742647e160a85b&#34;&gt;Andre problem – lydproblemer&lt;/h3&gt;

&lt;p&gt;Jeg lodder av kontakten med bryteren fra kretskortet. Når jeg løfter den av så faller en rekke deler ut av den. Fra bryteren altså. Dohh…&lt;/p&gt;

&lt;p&gt;Jeg lodder så på igjen lydkabelen på de samme kontaktpunktene som tidligere. FM-radioen er nå deaktivert og jeg får lyd via blåtann. Men lyden er gått fra å være normal til å være svært svak. Dohh…&lt;/p&gt;

&lt;p&gt;Jeg prøver å koble sammen kontaktpunktene for radio og får aktivert radioen igjen. Ikke noe endring av lydstyrken annet enn at FM-radioen nå spiller sammen med lyden fra blåtann. Så det er ikke løsningen, så jeg deaktiverer FM-radioen på nytt.&lt;/p&gt;

&lt;p&gt;På dette stadiet blir prosjektet liggende i mange dager. Siden jeg har en helt lik radio til så åpner jeg denne og kobler på lydkabelen. Full lydstyrke her. Så til tross for at jeg lodder på kabelen på samme punkter så er det en betydelig forskjell på før og etter at jeg tok av mini jack -kontakten. Hva som er årsaken vet jeg ikke. Man skulle tro det er en «mystisk» kobling inne i mini jack -kontakten som jeg overser. Et eller annet har jeg klart å ødelegge på veien.&lt;/p&gt;

&lt;p&gt;Utallige forsøk på å finne andre punkter å lodde lydkabelen inn på. Ingen av dem gir noe bedre resultat. Forsterkeren i radioen er og forblir død/svak.&lt;/p&gt;

&lt;h2 id=&#34;løsning-frankenstein:1273d6887e1ec6d519742647e160a85b&#34;&gt;Løsning – Frankenstein&lt;/h2&gt;

&lt;p&gt;Som nevn, jeg har en maken radio. En sort! Så med en rekke erfaringer klokere  så blir det den sorte broren til den oransje radioen som får gjennomgå. Bluetooth-enheten blir plassert inn her istedet.&lt;/p&gt;

&lt;p&gt;Her er noen bilder av den endelige løsningen:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125724.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125730.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125738.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Ikke så pen løsning, jeg skulle kanskje ha kostet på meg egne knapper eller i det minste en Dremel fremfor et grovt bor.&lt;/p&gt;

&lt;p&gt;LN-BT02 har egne knapper for å hoppe en sang fremover, bakover og pause/play. Ved å holde nede venstre eller høyre knapp kan man også justere volumet.&lt;/p&gt;

&lt;h2 id=&#34;oppsummering:1273d6887e1ec6d519742647e160a85b&#34;&gt;Oppsummering&lt;/h2&gt;

&lt;p&gt;Til tross for mye knoting og at prosjektet ble liggende urørt i en lang periode så kom jeg i havn. Jeg har lært litt og fått frisket opp gamle kunnskaper om elektronikk. Det irriterer meg fortsatt at jeg ikke fikk det til på første forsøk.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125752.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Bluetooth i en gammel FM-radio</title>
      <link>http://sjsd.github.io/post/bluetooth-i-en-gammel-fm-radio/</link>
      <pubDate>Sun, 04 Oct 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/bluetooth-i-en-gammel-fm-radio/</guid>
      <description>

&lt;p&gt;Jeg har en «gammel» radio som har vært en god følgesvenn av familien i noen år. Vi har egentlig aldri behandlet denne radioen noe spesielt godt. Den har alltid stått ute i vær og vind. Noe den bærer preg av. Men til tross for dårlig behandling så virker den som den skal.&lt;/p&gt;

&lt;p&gt;Dette innlegget er litt langt. Jeg har i detalj gått igjennom mine funn og forsøkt å dokumentere det med bilder som jeg har tatt underveis.&lt;/p&gt;

&lt;h2 id=&#34;tl-dr:1273d6887e1ec6d519742647e160a85b&#34;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;Ved å koble til en bluetooth-mottaker i en gammel radio så har jeg «byttet ut» den gamle FM-delene med noe mer moderne. Bakgrunnen er at jeg streamer 99% av all musikk og radio via mobiltelefonen. FM-nettet slukkes snart her i Norge og da ville radioen likevel være ubrukelig. Jeg har valgt å gjøre det på den vanskelige måten fremfor å koble en ferdig dongle direkte på inngangen. Større utfordring, mer morro.&lt;/p&gt;

&lt;p&gt;Det skulle vise seg å bli en større utfordring enn først antatt.&lt;/p&gt;

&lt;h2 id=&#34;denver-tr-43c:1273d6887e1ec6d519742647e160a85b&#34;&gt;Denver TR-43C&lt;/h2&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135732.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;En Denver TR-43C i orange farge. Radioen er en typisk nobrand og selges under ulike merkenavn. Det jeg har klart å finne ut av via internett er at innmaten er lik uavhengig av merkenavnet den selges under.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135631.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Naturkreftene har forsøkt å ta tak i den. Jordslag og noe seigt belegg utenpå har dempet den ellers så friske orange fargen.&lt;/p&gt;

&lt;h2 id=&#34;fm-vs-dab-vs-streaming:1273d6887e1ec6d519742647e160a85b&#34;&gt;FM vs DAB vs streaming&lt;/h2&gt;

&lt;p&gt;Jeg skal ikke kaste meg i vei i diskusjonen om FM vs DAB. Men når FM-nettet slukkes om 2 år så vil vår gode og gamle FM-radio være mer eller mindre unyttig. Og siden vi streamer det meste av musikk via mobiltelefonen så kunne det vært kjekt å gjøre den gamle radioen om slik at den kan ta imot musikk via bluetooth.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135640.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Denne antenna blir overflødig om et par år. Derfor velger jeg å bygge om radioen til å møte vårt behov og vår foretrukne måte å lytte til både musikk og radio på.&lt;/p&gt;

&lt;h2 id=&#34;valg-av-bluetooth:1273d6887e1ec6d519742647e160a85b&#34;&gt;Valg av bluetooth&lt;/h2&gt;

&lt;p&gt;Ja, jeg kunne selvsagt ha kjøpt en bluetooth-adapter til 50,- inkl. frakt på eBay og koblet den med en standard min jack-kablel på inngangen til radioen. Men hva er utfordringen i det?&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_135655.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Som bildet over viser så har radioen en egen lydinngang og en utgang for hodetelefoner. Via lydinngangen kunne jeg valgt å koble telefonen direkte eller brukt en billig bluetooth-dongle. Men som sagt, hva er utfordringen med det?&lt;/p&gt;

&lt;h2 id=&#34;bluetooth-ln-bt02:1273d6887e1ec6d519742647e160a85b&#34;&gt;Bluetooth LN-BT02&lt;/h2&gt;

&lt;p&gt;Så jeg handlet meg en bluetooth-sak med det kryptiske navnet LN-BT02. Slik ser den ut:&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/sku229677-61.jpg?w=700&amp;amp;h=700&#34; alt=&#34;LN-BT02&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Bildet over viser den medfølgende mikrofonen. I tillegg fulgte det med ulike kabler for strøm og lyd (inn og ut).&lt;/p&gt;

&lt;h2 id=&#34;demontering:1273d6887e1ec6d519742647e160a85b&#34;&gt;Demontering&lt;/h2&gt;

&lt;p&gt;Radioen er enkel å skru fra hverandre. Tre skruer er tilgjengelig på baksiden. Den fjerde skruen en dekket av et deksel som dekker til strømtrafoen. Så dette dekselet må også skrues av.&lt;/p&gt;

&lt;p&gt;Det er ikke nødvendig å ta av bryter eller knotter på forsiden siden det er to kretskort og det som disse er koblet til er skrudd fast på dekselet foran.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_141126.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;strøm-til-bluetooth-ln-bt02:1273d6887e1ec6d519742647e160a85b&#34;&gt;Strøm til bluetooth (LN-BT02)&lt;/h2&gt;

&lt;p&gt;Selve radioen bruker enten vanlig strøm (230V) eller 6 batterier av type AA. Selve radioen bruker 9 – 12V (9V på batteridrift eller 12V ut ifra trafoen). Ved å bruke et multimeter så målte jeg 12V ferdig likerettet ut ifra trafoen (dvs. likeretteren sitter på kretskortet).&lt;/p&gt;

&lt;p&gt;LN-BT02 driftes fra 7V til 30V, så dette passet perfekt. Det er bare å lodde på strømledningen som følger med rett på kretskortet og LN-BT02 får strøm.&lt;/p&gt;

&lt;p&gt;NB! Det er kanskje ikke en god løsning å ha strøm rett på bluetooth-enheten hele tiden. Men enn så lenge så duger det slik at jeg kan komme meg videre til neste steg.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154326.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Den røde og sorte som går rett opp i bildet over er strømmen til blåtannenheten.&lt;/p&gt;

&lt;h2 id=&#34;koble-til-lyd:1273d6887e1ec6d519742647e160a85b&#34;&gt;Koble til lyd&lt;/h2&gt;

&lt;p&gt;Blåtannenheten gir fra seg (ved fullt volum) standard linjesignal. Dvs. at den ikke kan koble direkte på en høyttaler, men signalet må via en forsterke. Dette finnes allerede i radioen.&lt;/p&gt;

&lt;p&gt;Jeg bruker multimeteret til å finne ut hvilket kontaktpunkter på kretskortet ved AUX-inngangen som er jord, høyre og venstre. Dermed lodder jeg på lydkabelen for blåtannenheten på disse punktene.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154341.jpg?w=700&amp;amp;h=518&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;På undersiden av AUX-inngangen har jeg loddet på jord (sort) og høyre og venstre (hvit og rød) til kontaktpunktene til inngangen.&lt;/p&gt;

&lt;h3 id=&#34;første-problem-fm-og-blåtann-samtidig:1273d6887e1ec6d519742647e160a85b&#34;&gt;Første problem – FM og blåtann samtidig&lt;/h3&gt;

&lt;p&gt;Problemet er at radioen er laget på slik måte at hvis man ikke har en plugg inn i AUX-inngangen så aktiveres FM-radioen. Så nå vil radioen spille av FM-radio + lyd fra blåtann samtidig. Det er ikke helt heldig. Det er altså en bryter som aktiveres når man stikker en plugg inn i AUX-inngangen (som er en 3,5mm mini jack).&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151003_154402.jpg?w=700&amp;amp;h=946&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Jeg søker på internett etter denne type bryter / kontakt men finner kun noen dårlige skisser som ikke sier meg så mye. Så ved å bruke multimeteret mitt finner jeg til slutt to kontaktpunkter som endrer status avhengig av om det er en plugg inne i kontakten eller ei. Men jeg finner ingen enkel måte å deaktivere de på uten at det er en plugg satt inn.&lt;/p&gt;

&lt;h3 id=&#34;andre-problem-lydproblemer:1273d6887e1ec6d519742647e160a85b&#34;&gt;Andre problem – lydproblemer&lt;/h3&gt;

&lt;p&gt;Jeg lodder av kontakten med bryteren fra kretskortet. Når jeg løfter den av så faller en rekke deler ut av den. Fra bryteren altså. Dohh…&lt;/p&gt;

&lt;p&gt;Jeg lodder så på igjen lydkabelen på de samme kontaktpunktene som tidligere. FM-radioen er nå deaktivert og jeg får lyd via blåtann. Men lyden er gått fra å være normal til å være svært svak. Dohh…&lt;/p&gt;

&lt;p&gt;Jeg prøver å koble sammen kontaktpunktene for radio og får aktivert radioen igjen. Ikke noe endring av lydstyrken annet enn at FM-radioen nå spiller sammen med lyden fra blåtann. Så det er ikke løsningen, så jeg deaktiverer FM-radioen på nytt.&lt;/p&gt;

&lt;p&gt;På dette stadiet blir prosjektet liggende i mange dager. Siden jeg har en helt lik radio til så åpner jeg denne og kobler på lydkabelen. Full lydstyrke her. Så til tross for at jeg lodder på kabelen på samme punkter så er det en betydelig forskjell på før og etter at jeg tok av mini jack -kontakten. Hva som er årsaken vet jeg ikke. Man skulle tro det er en «mystisk» kobling inne i mini jack -kontakten som jeg overser. Et eller annet har jeg klart å ødelegge på veien.&lt;/p&gt;

&lt;p&gt;Utallige forsøk på å finne andre punkter å lodde lydkabelen inn på. Ingen av dem gir noe bedre resultat. Forsterkeren i radioen er og forblir død/svak.&lt;/p&gt;

&lt;h2 id=&#34;løsning-frankenstein:1273d6887e1ec6d519742647e160a85b&#34;&gt;Løsning – Frankenstein&lt;/h2&gt;

&lt;p&gt;Som nevn, jeg har en maken radio. En sort! Så med en rekke erfaringer klokere  så blir det den sorte broren til den oransje radioen som får gjennomgå. Bluetooth-enheten blir plassert inn her istedet.&lt;/p&gt;

&lt;p&gt;Her er noen bilder av den endelige løsningen:&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125724.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125730.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125738.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;Ikke så pen løsning, jeg skulle kanskje ha kostet på meg egne knapper eller i det minste en Dremel fremfor et grovt bor.&lt;/p&gt;

&lt;p&gt;LN-BT02 har egne knapper for å hoppe en sang fremover, bakover og pause/play. Ved å holde nede venstre eller høyre knapp kan man også justere volumet.&lt;/p&gt;

&lt;h2 id=&#34;oppsummering:1273d6887e1ec6d519742647e160a85b&#34;&gt;Oppsummering&lt;/h2&gt;

&lt;p&gt;Til tross for mye knoting og at prosjektet ble liggende urørt i en lang periode så kom jeg i havn. Jeg har lært litt og fått frisket opp gamle kunnskaper om elektronikk. Det irriterer meg fortsatt at jeg ikke fikk det til på første forsøk.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/10/img_20151103_125752.jpg?w=700&amp;amp;h=525&#34; alt=&#34;Denver TR-43C&#34; /&gt;
&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Arduino Nano, NewPing og HC-SR04</title>
      <link>http://sjsd.github.io/post/arduino-nano-newping-og-hc-sr04/</link>
      <pubDate>Tue, 22 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/arduino-nano-newping-og-hc-sr04/</guid>
      <description>

&lt;p&gt;Dette innlegget er egentlig veldig likt innlegget jeg skrev om &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/01/arduino-og-ping-ultrasonisk-sensor/&#34;&gt;Arduino og Ping (ultrasonisk sensor)&lt;/a&gt; og innlegget om &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/03/arduino-og-hc-sr04-ultrasonisk-sensor/&#34;&gt;Arduino og HC-SR04 (ultrasonisk sensor)&lt;/a&gt;. Likevel er det noen forskjeller som gjør det verdt å skrive om.&lt;/p&gt;

&lt;p&gt;Jeg har brukt en Arduino Nano V3.0 og HC-SR04 på et koblingsbrett. I motsetning til de to foregående eksemplene hvor jeg har skrevet om ultrasonisk sensor så har jeg benyttet meg av et bibliotek som heter NewPing (som du kan kan &lt;a href=&#34;https://bitbucket.org/teckel12/arduino-new-ping/wiki/Home&#34;&gt;laste ned fra BitBucket&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Det er flere fordeler ved å bruke NewPing:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Mer nøyaktig avlesning&lt;/li&gt;
&lt;li&gt;Henger &lt;strong&gt;ikke&lt;/strong&gt; i et sekund ved feil avlesning&lt;/li&gt;
&lt;li&gt;Man kan sette maks avstand for avstand&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;++ flere du kan lese om på &lt;a href=&#34;http://playground.arduino.cc/Code/NewPing&#34;&gt;Arduino Playground&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Årsaken til at jeg har byttet fra standard Arduino-kode til NewPing sitt bibliotek var at jeg oppdaget at oppsettet trakk veldig my strøm og ved bruk av batteri så tømte batteriene seg raskt.&lt;/p&gt;

&lt;p&gt;Det gjenstår å teste Nano og NewPing med batteri.&lt;/p&gt;

&lt;h2 id=&#34;skisse:48bb3d3d0bb3ed481672ec9b4b75f2e1&#34;&gt;Skisse&lt;/h2&gt;

&lt;p&gt;Skissen viser hvordan jeg valgte å koble opp min Nano og HC-SR04.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/nano-hcsr04_bb.png?w=700&amp;amp;h=585&#34; alt=&#34;Arduino Nano og HC-SR04 skisse&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;kode:48bb3d3d0bb3ed481672ec9b4b75f2e1&#34;&gt;Kode&lt;/h2&gt;

&lt;p&gt;Koden jeg har testet med er &lt;a href=&#34;http://playground.arduino.cc/Code/NewPing?action=sourceblock&amp;amp;num=1&#34;&gt;standard eksempelet til NewPing&lt;/a&gt;. Eneste endringen jeg har gjort er å endre hvilken port som benyttes.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Arduino Nano, NewPing og HC-SR04</title>
      <link>http://sjsd.github.io/post/arduino-nano-newping-og-hc-sr04/</link>
      <pubDate>Tue, 22 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/arduino-nano-newping-og-hc-sr04/</guid>
      <description>

&lt;p&gt;Dette innlegget er egentlig veldig likt innlegget jeg skrev om &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/01/arduino-og-ping-ultrasonisk-sensor/&#34;&gt;Arduino og Ping (ultrasonisk sensor)&lt;/a&gt; og innlegget om &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/03/arduino-og-hc-sr04-ultrasonisk-sensor/&#34;&gt;Arduino og HC-SR04 (ultrasonisk sensor)&lt;/a&gt;. Likevel er det noen forskjeller som gjør det verdt å skrive om.&lt;/p&gt;

&lt;p&gt;Jeg har brukt en Arduino Nano V3.0 og HC-SR04 på et koblingsbrett. I motsetning til de to foregående eksemplene hvor jeg har skrevet om ultrasonisk sensor så har jeg benyttet meg av et bibliotek som heter NewPing (som du kan kan &lt;a href=&#34;https://bitbucket.org/teckel12/arduino-new-ping/wiki/Home&#34;&gt;laste ned fra BitBucket&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Det er flere fordeler ved å bruke NewPing:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Mer nøyaktig avlesning&lt;/li&gt;
&lt;li&gt;Henger &lt;strong&gt;ikke&lt;/strong&gt; i et sekund ved feil avlesning&lt;/li&gt;
&lt;li&gt;Man kan sette maks avstand for avstand&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;++ flere du kan lese om på &lt;a href=&#34;http://playground.arduino.cc/Code/NewPing&#34;&gt;Arduino Playground&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Årsaken til at jeg har byttet fra standard Arduino-kode til NewPing sitt bibliotek var at jeg oppdaget at oppsettet trakk veldig my strøm og ved bruk av batteri så tømte batteriene seg raskt.&lt;/p&gt;

&lt;p&gt;Det gjenstår å teste Nano og NewPing med batteri.&lt;/p&gt;

&lt;h2 id=&#34;skisse:48bb3d3d0bb3ed481672ec9b4b75f2e1&#34;&gt;Skisse&lt;/h2&gt;

&lt;p&gt;Skissen viser hvordan jeg valgte å koble opp min Nano og HC-SR04.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/nano-hcsr04_bb.png?w=700&amp;amp;h=585&#34; alt=&#34;Arduino Nano og HC-SR04 skisse&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;kode:48bb3d3d0bb3ed481672ec9b4b75f2e1&#34;&gt;Kode&lt;/h2&gt;

&lt;p&gt;Koden jeg har testet med er &lt;a href=&#34;http://playground.arduino.cc/Code/NewPing?action=sourceblock&amp;amp;num=1&#34;&gt;standard eksempelet til NewPing&lt;/a&gt;. Eneste endringen jeg har gjort er å endre hvilken port som benyttes.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Arduino Nano, NewPing og HC-SR04</title>
      <link>http://sjsd.github.io/post/arduino-nano-newping-og-hc-sr04/</link>
      <pubDate>Tue, 22 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/arduino-nano-newping-og-hc-sr04/</guid>
      <description>

&lt;p&gt;Dette innlegget er egentlig veldig likt innlegget jeg skrev om &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/01/arduino-og-ping-ultrasonisk-sensor/&#34;&gt;Arduino og Ping (ultrasonisk sensor)&lt;/a&gt; og innlegget om &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/03/arduino-og-hc-sr04-ultrasonisk-sensor/&#34;&gt;Arduino og HC-SR04 (ultrasonisk sensor)&lt;/a&gt;. Likevel er det noen forskjeller som gjør det verdt å skrive om.&lt;/p&gt;

&lt;p&gt;Jeg har brukt en Arduino Nano V3.0 og HC-SR04 på et koblingsbrett. I motsetning til de to foregående eksemplene hvor jeg har skrevet om ultrasonisk sensor så har jeg benyttet meg av et bibliotek som heter NewPing (som du kan kan &lt;a href=&#34;https://bitbucket.org/teckel12/arduino-new-ping/wiki/Home&#34;&gt;laste ned fra BitBucket&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Det er flere fordeler ved å bruke NewPing:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Mer nøyaktig avlesning&lt;/li&gt;
&lt;li&gt;Henger &lt;strong&gt;ikke&lt;/strong&gt; i et sekund ved feil avlesning&lt;/li&gt;
&lt;li&gt;Man kan sette maks avstand for avstand&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;++ flere du kan lese om på &lt;a href=&#34;http://playground.arduino.cc/Code/NewPing&#34;&gt;Arduino Playground&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Årsaken til at jeg har byttet fra standard Arduino-kode til NewPing sitt bibliotek var at jeg oppdaget at oppsettet trakk veldig my strøm og ved bruk av batteri så tømte batteriene seg raskt.&lt;/p&gt;

&lt;p&gt;Det gjenstår å teste Nano og NewPing med batteri.&lt;/p&gt;

&lt;h2 id=&#34;skisse:48bb3d3d0bb3ed481672ec9b4b75f2e1&#34;&gt;Skisse&lt;/h2&gt;

&lt;p&gt;Skissen viser hvordan jeg valgte å koble opp min Nano og HC-SR04.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/nano-hcsr04_bb.png?w=700&amp;amp;h=585&#34; alt=&#34;Arduino Nano og HC-SR04 skisse&#34; /&gt;
&lt;/p&gt;

&lt;h2 id=&#34;kode:48bb3d3d0bb3ed481672ec9b4b75f2e1&#34;&gt;Kode&lt;/h2&gt;

&lt;p&gt;Koden jeg har testet med er &lt;a href=&#34;http://playground.arduino.cc/Code/NewPing?action=sourceblock&amp;amp;num=1&#34;&gt;standard eksempelet til NewPing&lt;/a&gt;. Eneste endringen jeg har gjort er å endre hvilken port som benyttes.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Koble Arduino til internett via USB</title>
      <link>http://sjsd.github.io/post/koble-arduino-til-internett-via-usb/</link>
      <pubDate>Fri, 11 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/koble-arduino-til-internett-via-usb/</guid>
      <description>

&lt;p&gt;Det er mulig for en Arduino å skrive verdier til eller lese verdier fra internett via USB. Ikke så optimal løsning som å bruke eternetshield eller wifi, men dog mulig. Dette innlegget er et eksempel på hvordan jeg har lest av en verdi fra en fil som er tilgjengelig på internett og videresender denne verdien til min Arduino.&lt;/p&gt;

&lt;p&gt;Målet vårt her er å lese av en verdi (et tall) fra en tekstfil som ligger på internett og så få LED (på pinne 13) til å blinke like mange ganger som verdien. Et veldig enkelt eksempel.&lt;/p&gt;

&lt;h2 id=&#34;hva-trenger-man:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hva trenger man?&lt;/h2&gt;

&lt;p&gt;Når du allerede er komme til dette steget regner jeg med at du har en Arduino, USB-kabel og en datamaskin med Arduino IDE innstallert. Det du trenger i tillegg er et program Processing.&lt;/p&gt;

&lt;h3 id=&#34;processing:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Processing?&lt;/h3&gt;

&lt;p&gt;Processing kan brukes til så mangt. Det vi skal bruke det til er å lese av en fil fra internett og sende den informasjonen videre til vår Arduino som er koble til via USB. Processing IDE er så likt Arduino IDE at når du skal programere så vil du lett kjenne deg igjen.&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;
&lt;div class=&#34;clearfix&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;col-xs-12 sjsd-post sjsd-post-image&#34;&gt;

    &lt;figure &gt;
        
            &lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/arduino-processing.png?w=1840&amp;amp;h=997&#34; alt=&#34;Skjermbilde av programvaren&#34; /&gt;
        
        
        &lt;figcaption&gt;
            &lt;h4&gt;Skjermbilde av programvare&lt;/h4&gt;
            &lt;p&gt;
            Skjermbilde av programvaren
            
                
            
            &lt;/p&gt; 
        &lt;/figcaption&gt;
        
    &lt;/figure&gt;

&lt;/div&gt;
&lt;div class=&#34;clearfix&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 sjsd-post&#34;&gt;&lt;/p&gt;

&lt;h2 id=&#34;kodesnutter:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Kodesnutter&lt;/h2&gt;

&lt;p&gt;Jeg kommer ikke til å gå inn i detalj for hver enkelt linje i koden. Jeg har forsøkt å kommentere hva som skjer i selve kodesnuttene.&lt;/p&gt;

&lt;h3 id=&#34;tekstfilen:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Tekstfilen&lt;/h3&gt;

&lt;p&gt;Vi begynner med tekstfilen som skal ligge tilgjengelig på internett. I dette eksempelet skal den inneholde et tall. F.eks. 10.&lt;/p&gt;

&lt;p&gt;Du trenger et nettsted å laste filen opp til og tilgang til å lese den. F.eks. &lt;a href=&#34;http://www.example.com/value.txt&#34;&gt;http://www.example.com/value.txt&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;processkoden:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Processkoden&lt;/h3&gt;

&lt;p&gt;I korte trekk så tar Processing å leser filen vi har lastet opp på internett. Så tar den tallet og sender via serial (USB) til en Arduino.&lt;/p&gt;

&lt;p&gt;Du kan &lt;a href=&#34;https://gist.github.com/sjsd/73756ec4e75d137bb470&#34;&gt;laste ned min ferdigkode fra Github&lt;/a&gt;. Jeg har etter beste evne forsøkt å kommentere hva som skjer i koden. Gjør nødvendige endringer i koden, som adressen til din tekstfil med verdien.&lt;/p&gt;

&lt;h3 id=&#34;arduinokoden:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Arduinokoden&lt;/h3&gt;

&lt;p&gt;I korte trekk så leser Arduinoen av informasjon som kommer via serial (i dette tilfellet fra Processing).&lt;/p&gt;

&lt;p&gt;Du kan &lt;a href=&#34;https://gist.github.com/sjsd/73756ec4e75d137bb470&#34;&gt;laste ned min ferdigkode fra Github&lt;/a&gt;. Jeg har etter beste evne forsøkt å kommentere hva som skjer i koden. Før koden over til din Arduino.&lt;/p&gt;

&lt;h2 id=&#34;hvordan-utføre:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hvordan utføre&lt;/h2&gt;

&lt;p&gt;Hvis du ikke allerede har gjort det så før over koden til din Arduino. Den vil nå sjekke om det kommer noe informasjon via USB fra Processing. Trykk på «Play» i Processing. LED på Arduinoen vil nå snart blinke like mange ganger som vi har satt verdien i tekstfilen.&lt;/p&gt;

&lt;h2 id=&#34;hva-kan-man-bruke-dette-til:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hva kan man bruke dette til?&lt;/h2&gt;

&lt;p&gt;Verdien som Processing leser av må ikke være en statisk tekstfil. Det kan være så mye annet. F.eks. en eller annen verdi forå styre et lys, flere lys, analog verdi som du kan gjøre om til å få din Arduino til å kontrollere et eller annet.&lt;/p&gt;

&lt;p&gt;Man kan også snu på flisa og få Processing til å få en verdi fra Arduino og skrive til en fil. F.eks. hvis man har en temperaturmåler koblet til en Arduino så kan Processing skrive denne verdien til en fil på din datamaskin eller på internett.&lt;/p&gt;

&lt;p&gt;Mitt eksempel i dette innlegget er helt grunnleggende bare for å vise at det er mulig å koble en Arduino til internett via en USB-kabel.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Koble Arduino til internett via USB</title>
      <link>http://sjsd.github.io/post/koble-arduino-til-internett-via-usb/</link>
      <pubDate>Fri, 11 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/koble-arduino-til-internett-via-usb/</guid>
      <description>

&lt;p&gt;Det er mulig for en Arduino å skrive verdier til eller lese verdier fra internett via USB. Ikke så optimal løsning som å bruke eternetshield eller wifi, men dog mulig. Dette innlegget er et eksempel på hvordan jeg har lest av en verdi fra en fil som er tilgjengelig på internett og videresender denne verdien til min Arduino.&lt;/p&gt;

&lt;p&gt;Målet vårt her er å lese av en verdi (et tall) fra en tekstfil som ligger på internett og så få LED (på pinne 13) til å blinke like mange ganger som verdien. Et veldig enkelt eksempel.&lt;/p&gt;

&lt;h2 id=&#34;hva-trenger-man:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hva trenger man?&lt;/h2&gt;

&lt;p&gt;Når du allerede er komme til dette steget regner jeg med at du har en Arduino, USB-kabel og en datamaskin med Arduino IDE innstallert. Det du trenger i tillegg er et program Processing.&lt;/p&gt;

&lt;h3 id=&#34;processing:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Processing?&lt;/h3&gt;

&lt;p&gt;Processing kan brukes til så mangt. Det vi skal bruke det til er å lese av en fil fra internett og sende den informasjonen videre til vår Arduino som er koble til via USB. Processing IDE er så likt Arduino IDE at når du skal programere så vil du lett kjenne deg igjen.&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;
&lt;div class=&#34;clearfix&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;col-xs-12 sjsd-post sjsd-post-image&#34;&gt;

    &lt;figure &gt;
        
            &lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/arduino-processing.png?w=1840&amp;amp;h=997&#34; alt=&#34;Skjermbilde av programvaren&#34; /&gt;
        
        
        &lt;figcaption&gt;
            &lt;h4&gt;Skjermbilde av programvare&lt;/h4&gt;
            &lt;p&gt;
            Skjermbilde av programvaren
            
                
            
            &lt;/p&gt; 
        &lt;/figcaption&gt;
        
    &lt;/figure&gt;

&lt;/div&gt;
&lt;div class=&#34;clearfix&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 sjsd-post&#34;&gt;&lt;/p&gt;

&lt;h2 id=&#34;kodesnutter:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Kodesnutter&lt;/h2&gt;

&lt;p&gt;Jeg kommer ikke til å gå inn i detalj for hver enkelt linje i koden. Jeg har forsøkt å kommentere hva som skjer i selve kodesnuttene.&lt;/p&gt;

&lt;h3 id=&#34;tekstfilen:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Tekstfilen&lt;/h3&gt;

&lt;p&gt;Vi begynner med tekstfilen som skal ligge tilgjengelig på internett. I dette eksempelet skal den inneholde et tall. F.eks. 10.&lt;/p&gt;

&lt;p&gt;Du trenger et nettsted å laste filen opp til og tilgang til å lese den. F.eks. &lt;a href=&#34;http://www.example.com/value.txt&#34;&gt;http://www.example.com/value.txt&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;processkoden:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Processkoden&lt;/h3&gt;

&lt;p&gt;I korte trekk så tar Processing å leser filen vi har lastet opp på internett. Så tar den tallet og sender via serial (USB) til en Arduino.&lt;/p&gt;

&lt;p&gt;Du kan &lt;a href=&#34;https://gist.github.com/sjsd/73756ec4e75d137bb470&#34;&gt;laste ned min ferdigkode fra Github&lt;/a&gt;. Jeg har etter beste evne forsøkt å kommentere hva som skjer i koden. Gjør nødvendige endringer i koden, som adressen til din tekstfil med verdien.&lt;/p&gt;

&lt;h3 id=&#34;arduinokoden:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Arduinokoden&lt;/h3&gt;

&lt;p&gt;I korte trekk så leser Arduinoen av informasjon som kommer via serial (i dette tilfellet fra Processing).&lt;/p&gt;

&lt;p&gt;Du kan &lt;a href=&#34;https://gist.github.com/sjsd/73756ec4e75d137bb470&#34;&gt;laste ned min ferdigkode fra Github&lt;/a&gt;. Jeg har etter beste evne forsøkt å kommentere hva som skjer i koden. Før koden over til din Arduino.&lt;/p&gt;

&lt;h2 id=&#34;hvordan-utføre:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hvordan utføre&lt;/h2&gt;

&lt;p&gt;Hvis du ikke allerede har gjort det så før over koden til din Arduino. Den vil nå sjekke om det kommer noe informasjon via USB fra Processing. Trykk på «Play» i Processing. LED på Arduinoen vil nå snart blinke like mange ganger som vi har satt verdien i tekstfilen.&lt;/p&gt;

&lt;h2 id=&#34;hva-kan-man-bruke-dette-til:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hva kan man bruke dette til?&lt;/h2&gt;

&lt;p&gt;Verdien som Processing leser av må ikke være en statisk tekstfil. Det kan være så mye annet. F.eks. en eller annen verdi forå styre et lys, flere lys, analog verdi som du kan gjøre om til å få din Arduino til å kontrollere et eller annet.&lt;/p&gt;

&lt;p&gt;Man kan også snu på flisa og få Processing til å få en verdi fra Arduino og skrive til en fil. F.eks. hvis man har en temperaturmåler koblet til en Arduino så kan Processing skrive denne verdien til en fil på din datamaskin eller på internett.&lt;/p&gt;

&lt;p&gt;Mitt eksempel i dette innlegget er helt grunnleggende bare for å vise at det er mulig å koble en Arduino til internett via en USB-kabel.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Koble Arduino til internett via USB</title>
      <link>http://sjsd.github.io/post/koble-arduino-til-internett-via-usb/</link>
      <pubDate>Fri, 11 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/koble-arduino-til-internett-via-usb/</guid>
      <description>

&lt;p&gt;Det er mulig for en Arduino å skrive verdier til eller lese verdier fra internett via USB. Ikke så optimal løsning som å bruke eternetshield eller wifi, men dog mulig. Dette innlegget er et eksempel på hvordan jeg har lest av en verdi fra en fil som er tilgjengelig på internett og videresender denne verdien til min Arduino.&lt;/p&gt;

&lt;p&gt;Målet vårt her er å lese av en verdi (et tall) fra en tekstfil som ligger på internett og så få LED (på pinne 13) til å blinke like mange ganger som verdien. Et veldig enkelt eksempel.&lt;/p&gt;

&lt;h2 id=&#34;hva-trenger-man:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hva trenger man?&lt;/h2&gt;

&lt;p&gt;Når du allerede er komme til dette steget regner jeg med at du har en Arduino, USB-kabel og en datamaskin med Arduino IDE innstallert. Det du trenger i tillegg er et program Processing.&lt;/p&gt;

&lt;h3 id=&#34;processing:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Processing?&lt;/h3&gt;

&lt;p&gt;Processing kan brukes til så mangt. Det vi skal bruke det til er å lese av en fil fra internett og sende den informasjonen videre til vår Arduino som er koble til via USB. Processing IDE er så likt Arduino IDE at når du skal programere så vil du lett kjenne deg igjen.&lt;/p&gt;

&lt;p&gt;&lt;/div&gt;
&lt;div class=&#34;clearfix&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;col-xs-12 sjsd-post sjsd-post-image&#34;&gt;

    &lt;figure &gt;
        
            &lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/arduino-processing.png?w=1840&amp;amp;h=997&#34; alt=&#34;Skjermbilde av programvaren&#34; /&gt;
        
        
        &lt;figcaption&gt;
            &lt;h4&gt;Skjermbilde av programvare&lt;/h4&gt;
            &lt;p&gt;
            Skjermbilde av programvaren
            
                
            
            &lt;/p&gt; 
        &lt;/figcaption&gt;
        
    &lt;/figure&gt;

&lt;/div&gt;
&lt;div class=&#34;clearfix&#34;&gt;&lt;/div&gt;
&lt;div class=&#34;col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2 sjsd-post&#34;&gt;&lt;/p&gt;

&lt;h2 id=&#34;kodesnutter:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Kodesnutter&lt;/h2&gt;

&lt;p&gt;Jeg kommer ikke til å gå inn i detalj for hver enkelt linje i koden. Jeg har forsøkt å kommentere hva som skjer i selve kodesnuttene.&lt;/p&gt;

&lt;h3 id=&#34;tekstfilen:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Tekstfilen&lt;/h3&gt;

&lt;p&gt;Vi begynner med tekstfilen som skal ligge tilgjengelig på internett. I dette eksempelet skal den inneholde et tall. F.eks. 10.&lt;/p&gt;

&lt;p&gt;Du trenger et nettsted å laste filen opp til og tilgang til å lese den. F.eks. &lt;a href=&#34;http://www.example.com/value.txt&#34;&gt;http://www.example.com/value.txt&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&#34;processkoden:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Processkoden&lt;/h3&gt;

&lt;p&gt;I korte trekk så tar Processing å leser filen vi har lastet opp på internett. Så tar den tallet og sender via serial (USB) til en Arduino.&lt;/p&gt;

&lt;p&gt;Du kan &lt;a href=&#34;https://gist.github.com/sjsd/73756ec4e75d137bb470&#34;&gt;laste ned min ferdigkode fra Github&lt;/a&gt;. Jeg har etter beste evne forsøkt å kommentere hva som skjer i koden. Gjør nødvendige endringer i koden, som adressen til din tekstfil med verdien.&lt;/p&gt;

&lt;h3 id=&#34;arduinokoden:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Arduinokoden&lt;/h3&gt;

&lt;p&gt;I korte trekk så leser Arduinoen av informasjon som kommer via serial (i dette tilfellet fra Processing).&lt;/p&gt;

&lt;p&gt;Du kan &lt;a href=&#34;https://gist.github.com/sjsd/73756ec4e75d137bb470&#34;&gt;laste ned min ferdigkode fra Github&lt;/a&gt;. Jeg har etter beste evne forsøkt å kommentere hva som skjer i koden. Før koden over til din Arduino.&lt;/p&gt;

&lt;h2 id=&#34;hvordan-utføre:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hvordan utføre&lt;/h2&gt;

&lt;p&gt;Hvis du ikke allerede har gjort det så før over koden til din Arduino. Den vil nå sjekke om det kommer noe informasjon via USB fra Processing. Trykk på «Play» i Processing. LED på Arduinoen vil nå snart blinke like mange ganger som vi har satt verdien i tekstfilen.&lt;/p&gt;

&lt;h2 id=&#34;hva-kan-man-bruke-dette-til:e57ce773b0205d14e1ef7825b731e38d&#34;&gt;Hva kan man bruke dette til?&lt;/h2&gt;

&lt;p&gt;Verdien som Processing leser av må ikke være en statisk tekstfil. Det kan være så mye annet. F.eks. en eller annen verdi forå styre et lys, flere lys, analog verdi som du kan gjøre om til å få din Arduino til å kontrollere et eller annet.&lt;/p&gt;

&lt;p&gt;Man kan også snu på flisa og få Processing til å få en verdi fra Arduino og skrive til en fil. F.eks. hvis man har en temperaturmåler koblet til en Arduino så kan Processing skrive denne verdien til en fil på din datamaskin eller på internett.&lt;/p&gt;

&lt;p&gt;Mitt eksempel i dette innlegget er helt grunnleggende bare for å vise at det er mulig å koble en Arduino til internett via en USB-kabel.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Arduino og HC-SR04 (ultrasonisk sensor)</title>
      <link>http://sjsd.github.io/post/arduino-og-hc-sr04-ultrasonisk-sensor/</link>
      <pubDate>Thu, 03 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/arduino-og-hc-sr04-ultrasonisk-sensor/</guid>
      <description>

&lt;p&gt;Dette innlegget er neste identisk med mitt innlegg &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/01/arduino-og-ping-ultrasonisk-sensor/&#34;&gt;Arduino og Ping (ultrasonisk sensor)&lt;/a&gt;. Eneste forskjellen er bytte av sen ultrasoniske sensoren. Både Ping oh HC-SR04 er populære sensorer å koble til Arduino. I bunn og grunn helt like produkter men med en stor forskjell – antall pinner. Ping har 3 mens HC-SR04 har 4 pinner. Derfor blir koblingskjemaet og koden bittelitt forskjellig.&lt;/p&gt;

&lt;h2 id=&#34;tl-dr:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;En ultrasonisk sensor måler avstanden til et objekt. Basert på avstanden så vil tre ulike LED lyse opp. Grønn LED lyser ved avstand over 25cm. Orange LED lyser ved avstand mellom 10 og 25 cm. Rød LED lyser ved avstand under 10 cm.&lt;/p&gt;

&lt;h2 id=&#34;skisse:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;Skisse&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://helgejohnsen.files.wordpress.com/2015/09/hcsr04-2_bb.png&#34;&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/hcsr04-2_bb.png?w=700&amp;amp;h=361&#34; alt=&#34;hcsr04-2_bb&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;hc-sr04:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;HC-SR04&lt;/h2&gt;

&lt;p&gt;HC-SR04 har 4 pinner:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;VCC – 5V (positiv)&lt;/li&gt;
&lt;li&gt;Trig – signal inn fra Arduino (trigger)&lt;/li&gt;
&lt;li&gt;Echo – signal ut fra&lt;/li&gt;
&lt;li&gt;Gnd – jord (negativ)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Fordelen med fire pinner er at programmet til Arduinoen slipper å skifte mellom inn- og utgang på samme pinne.&lt;/p&gt;

&lt;h2 id=&#34;konklusjon:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;Konklusjon&lt;/h2&gt;

&lt;p&gt;En HC-SR04 er like enkelt å sette opp og bruke som en Ping. Er man nybegynner så er det kanskje lettere å forstå programeringen med 4 pinner kontra 3 pinner. Man sender inn et signal og får straks svar tilbake på den andre pinnen.&lt;/p&gt;

&lt;p&gt;Med en enkel formel så kan Arduinoen endre svaret til noe mer lesbart, som f.eks. antall centimeter fra Ping-en og til et objekt foran.&lt;/p&gt;

&lt;p&gt;Fordelen er at den er enkel å bruke og man kan selv sette terskselverdier for handlinger basert på avstander. Ulempen er at objektet må være rett foran Ping-en. Jeg har gjort noen forsøk på f.eks. å holde et ark i 45 graders vinkel. Da klarer ikke Ping-en å måle avstanden. Antageligvis pga at signalet blir reflektert vekk og ikke tilbake.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Arduino og HC-SR04 (ultrasonisk sensor)</title>
      <link>http://sjsd.github.io/post/arduino-og-hc-sr04-ultrasonisk-sensor/</link>
      <pubDate>Thu, 03 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/arduino-og-hc-sr04-ultrasonisk-sensor/</guid>
      <description>

&lt;p&gt;Dette innlegget er neste identisk med mitt innlegg &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/01/arduino-og-ping-ultrasonisk-sensor/&#34;&gt;Arduino og Ping (ultrasonisk sensor)&lt;/a&gt;. Eneste forskjellen er bytte av sen ultrasoniske sensoren. Både Ping oh HC-SR04 er populære sensorer å koble til Arduino. I bunn og grunn helt like produkter men med en stor forskjell – antall pinner. Ping har 3 mens HC-SR04 har 4 pinner. Derfor blir koblingskjemaet og koden bittelitt forskjellig.&lt;/p&gt;

&lt;h2 id=&#34;tl-dr:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;En ultrasonisk sensor måler avstanden til et objekt. Basert på avstanden så vil tre ulike LED lyse opp. Grønn LED lyser ved avstand over 25cm. Orange LED lyser ved avstand mellom 10 og 25 cm. Rød LED lyser ved avstand under 10 cm.&lt;/p&gt;

&lt;h2 id=&#34;skisse:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;Skisse&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://helgejohnsen.files.wordpress.com/2015/09/hcsr04-2_bb.png&#34;&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/hcsr04-2_bb.png?w=700&amp;amp;h=361&#34; alt=&#34;hcsr04-2_bb&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;hc-sr04:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;HC-SR04&lt;/h2&gt;

&lt;p&gt;HC-SR04 har 4 pinner:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;VCC – 5V (positiv)&lt;/li&gt;
&lt;li&gt;Trig – signal inn fra Arduino (trigger)&lt;/li&gt;
&lt;li&gt;Echo – signal ut fra&lt;/li&gt;
&lt;li&gt;Gnd – jord (negativ)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Fordelen med fire pinner er at programmet til Arduinoen slipper å skifte mellom inn- og utgang på samme pinne.&lt;/p&gt;

&lt;h2 id=&#34;konklusjon:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;Konklusjon&lt;/h2&gt;

&lt;p&gt;En HC-SR04 er like enkelt å sette opp og bruke som en Ping. Er man nybegynner så er det kanskje lettere å forstå programeringen med 4 pinner kontra 3 pinner. Man sender inn et signal og får straks svar tilbake på den andre pinnen.&lt;/p&gt;

&lt;p&gt;Med en enkel formel så kan Arduinoen endre svaret til noe mer lesbart, som f.eks. antall centimeter fra Ping-en og til et objekt foran.&lt;/p&gt;

&lt;p&gt;Fordelen er at den er enkel å bruke og man kan selv sette terskselverdier for handlinger basert på avstander. Ulempen er at objektet må være rett foran Ping-en. Jeg har gjort noen forsøk på f.eks. å holde et ark i 45 graders vinkel. Da klarer ikke Ping-en å måle avstanden. Antageligvis pga at signalet blir reflektert vekk og ikke tilbake.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Arduino og HC-SR04 (ultrasonisk sensor)</title>
      <link>http://sjsd.github.io/post/arduino-og-hc-sr04-ultrasonisk-sensor/</link>
      <pubDate>Thu, 03 Sep 2015 00:00:00 +0000</pubDate>
      
      <guid>http://sjsd.github.io/post/arduino-og-hc-sr04-ultrasonisk-sensor/</guid>
      <description>

&lt;p&gt;Dette innlegget er neste identisk med mitt innlegg &lt;a href=&#34;https://helgejohnsen.wordpress.com/2015/09/01/arduino-og-ping-ultrasonisk-sensor/&#34;&gt;Arduino og Ping (ultrasonisk sensor)&lt;/a&gt;. Eneste forskjellen er bytte av sen ultrasoniske sensoren. Både Ping oh HC-SR04 er populære sensorer å koble til Arduino. I bunn og grunn helt like produkter men med en stor forskjell – antall pinner. Ping har 3 mens HC-SR04 har 4 pinner. Derfor blir koblingskjemaet og koden bittelitt forskjellig.&lt;/p&gt;

&lt;h2 id=&#34;tl-dr:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;TL;DR&lt;/h2&gt;

&lt;p&gt;En ultrasonisk sensor måler avstanden til et objekt. Basert på avstanden så vil tre ulike LED lyse opp. Grønn LED lyser ved avstand over 25cm. Orange LED lyser ved avstand mellom 10 og 25 cm. Rød LED lyser ved avstand under 10 cm.&lt;/p&gt;

&lt;h2 id=&#34;skisse:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;Skisse&lt;/h2&gt;

&lt;p&gt;&lt;a href=&#34;https://helgejohnsen.files.wordpress.com/2015/09/hcsr04-2_bb.png&#34;&gt;&lt;img src=&#34;https://helgejohnsen.files.wordpress.com/2015/09/hcsr04-2_bb.png?w=700&amp;amp;h=361&#34; alt=&#34;hcsr04-2_bb&#34; /&gt;
&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&#34;hc-sr04:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;HC-SR04&lt;/h2&gt;

&lt;p&gt;HC-SR04 har 4 pinner:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;VCC – 5V (positiv)&lt;/li&gt;
&lt;li&gt;Trig – signal inn fra Arduino (trigger)&lt;/li&gt;
&lt;li&gt;Echo – signal ut fra&lt;/li&gt;
&lt;li&gt;Gnd – jord (negativ)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Fordelen med fire pinner er at programmet til Arduinoen slipper å skifte mellom inn- og utgang på samme pinne.&lt;/p&gt;

&lt;h2 id=&#34;konklusjon:7184f21ca1b74fa43e589a2770b7345e&#34;&gt;Konklusjon&lt;/h2&gt;

&lt;p&gt;En HC-SR04 er like enkelt å sette opp og bruke som en Ping. Er man nybegynner så er det kanskje lettere å forstå programeringen med 4 pinner kontra 3 pinner. Man sender inn et signal og får straks svar tilbake på den andre pinnen.&lt;/p&gt;

&lt;p&gt;Med en enkel formel så kan Arduinoen endre svaret til noe mer lesbart, som f.eks. antall centimeter fra Ping-en og til et objekt foran.&lt;/p&gt;

&lt;p&gt;Fordelen er at den er enkel å bruke og man kan selv sette terskselverdier for handlinger basert på avstander. Ulempen er at objektet må være rett foran Ping-en. Jeg har gjort noen forsøk på f.eks. å holde et ark i 45 graders vinkel. Da klarer ikke Ping-en å måle avstanden. Antageligvis pga at signalet blir reflektert vekk og ikke tilbake.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>